<!-- Loading State -->
@if (loading) {
  <div class="flex justify-center items-center py-12">
    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
  </div>
}

<!-- Error Message -->
@if (errorMsg) {
  <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6">
    {{ errorMsg }}
  </div>
}

<!-- Survey Answers -->
@if (!loading && !errorMsg) {
  <div class="bg-white shadow-md rounded-lg border border-gray-200 p-6">
        @for (row of rows; track row.id) {
          <div class="flex gap-4 flex-wrap mb-6">
            @for (field of row.fields; track field.id) {
              <div class="flex-1 min-w-[300px]">
                <!-- Read-only wrapper with pointer-events-none -->
                <div class="pointer-events-none opacity-90">
                  <app-form-field-preview 
                    [field]="field"
                    [model]="field.answer">
                  </app-form-field-preview>
                </div>
                
                <!-- Display the actual answer value below -->
                <div class="mt-2 p-3 bg-blue-50 border border-blue-200 rounded">
                  <span class="text-xs font-semibold text-blue-700">Answer:</span>
                  <p class="text-sm text-blue-900 font-medium">{{ getDisplayValue(field) }}</p>
                </div>
              </div>
            }
          </div>
        }

    <!-- Footer Info -->
    <div class="bg-gray-50 px-4 py-3 border-t border-gray-200 -mx-6 -mb-6 mt-6">
      <div class="flex justify-between items-center text-sm text-gray-600">
        <span>Survey ID: {{ surveyId }}</span>
        <span>Employee ID: {{ employeeId }}</span>
      </div>
    </div>
  </div>
}