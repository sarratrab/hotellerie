<app-navbar></app-navbar>
<div class="sub-navbar">
  <div class="sub-nav-card">
    <div class="sub-nav-items">
      <div class="navbar-content">
            <div class="sub-nav-items">
                <a href="#" class="sub-nav-item">
                    <img src="assets/Personal.png"  class="logo-img">
                    <div class="sub-nav-title">Personal</div>
                </a>
                <a href="#" class="sub-nav-item">
                    <img src="assets/Education.png"  class="logo-img">
                    <div class="sub-nav-title">Education</div>
                </a>
                <a href="#" class="sub-nav-item">
                    <img src="assets/Work.png"  class="logo-img">
                    <div class="sub-nav-title">Work</div>
                </a>
                <a href="#" class="sub-nav-item">
                    <img src="assets/Documents.png"  class="logo-img">
                    <div class="sub-nav-title">Documents</div>
                </a>
                <a href="#" class="sub-nav-item">
                    <img src="assets/Requests.png"  class="logo-img">
                    <div class="sub-nav-title">HR Request</div>
                </a>
                <a href="#" class="sub-nav-item">
                    <img src="assets/Onboarding.png"  class="logo-img">
                    <div class="sub-nav-title">OnBoarding</div>
                </a>
                <a href="#" class="sub-nav-item">
                    <img src="assets/Assets.png"  class="logo-img">
                    <div class="sub-nav-title">Assets</div>
                </a>
                <a href="#" class="sub-nav-item active">
                    <img src="assets/Surveys.png"  class="logo-img">
                    <div class="sub-nav-title">Surveys</div>
                </a>
            </div>
        </div>
    </div>
    </div>
    </div>
  <div class="sub-navbar1">
    <div class="sub-nav-card">


        <!-- Surveys Count -->
        <div class="section-head">
          <h3>Active Surveys </h3>
        </div>
  

      <div class="surveys-grid">
        <div class="grid-container">

       
    <div class="survey-card" *ngFor="let s of active">
      <div class="card-body">
        <h3 class="card-title" [title]="s.title">{{ s.title }}</h3>
        <p class="card-desc" [title]="s.description || '—'">
          {{ s.description || '—' }}
        </p>
        <div class="progress-row" aria-label="Progress">
  <div class="progress-bar" [attr.aria-valuenow]="progress(s)" aria-valuemin="0" aria-valuemax="100" role="progressbar">
    <div class="progress-fill" [style.width.%]="progress(s)"></div>
  </div>
  <span class="progress-text">{{ progress(s) }}%</span>
</div>

        <div class="meta">
          <div class="meta-item">
            <span class="meta-label">Due date</span>
            <span class="meta-value">{{ s.dueDate | date:'MMM d, y' }}</span>
          </div>
        <div class="meta-item">
    <span class="i-clock"></span>
    <span class="meta-value">~{{ s.estimatedMinutes }} min</span>
  </div>
  </div>
  <div class="meta">

          <div class="meta-item">
            <div class="chip" [ngStyle]="typeChipStyle(s)">
  {{ s.typeLabel }}
</div>

            <span class="chip" [ngClass]="chipClass(s)">
              {{ uiText(s) }}
            </span>
          </div>
        </div>



      </div>
      <!-- sous le titre -->

      <footer class="card-actions">
        <button type="button" class="btn ghost" >
         
        </button>

        <a
          class="btn primary"
          [routerLink]="['/surveys', s.surveyId, 'answer']"
          [queryParams]="{ employeeId: employeeId }">
          {{ s.uiStatus === 2 ? 'View' : s.uiStatus === 1 ? 'Continue' : 'Start' }}
        </a>
      </footer>
    </div>

  <ng-template #noActive>
    <div class="empty">No active surveys.</div>
  </ng-template>
  </div>
      </div>
    </div>
    </div>

  <div class="sub-navbar1">
    <div class="sub-nav-card">
            <div class="section-head">
      <h3>Completed Surveys</h3>
    </div>
      <div class="surveys-grid">
        <div class="grid-container">

    <div class="survey-card" *ngFor="let s of completed">
      <div class="card-body">
        <h3 class="card-title" [title]="s.title">{{ s.title }}</h3>
        <p class="card-desc" [title]="s.description || '—'">
          {{ s.description || '—' }}
        </p>
        <div class="progress-row" aria-label="Progress">
  <div class="progress-bar" [attr.aria-valuenow]="progress(s)" aria-valuemin="0" aria-valuemax="100" role="progressbar">
    <div class="progress-fill" [style.width.%]="progress(s)"></div>
  </div>
  <span class="progress-text">{{ progress(s) }}%</span>
</div>

        <div class="meta">
          <div class="meta-item">
            <span class="meta-label">Due date</span>
            <span class="meta-value">{{ s.dueDate | date:'MMM d, y' }}</span>
          </div>
        <div class="meta-item">
    <span class="i-clock"></span>
    <span class="meta-value">~{{ s.estimatedMinutes }} min</span>
  </div>
  </div>
  <div class="meta">

          <div class="meta-item">
            <div class="chip" [ngStyle]="typeChipStyle(s)">
  {{ s.typeLabel }}
</div>

            <span class="chip" [ngClass]="chipClass(s)">
              {{ uiText(s) }}
            </span>
          </div>
        </div>



      </div>
      <!-- sous le titre -->

      <footer class="card-actions">
        <button type="button" class="btn ghost" >
         
        </button>

        <a
          class="btn primary"
          [routerLink]="['/surveys', s.surveyId, 'answer']"
          [queryParams]="{ employeeId: employeeId }">
          {{ s.uiStatus === 2 ? 'View' : s.uiStatus === 1 ? 'Continue' : 'Start' }}
        </a>
      </footer>
    </div>

  <ng-template #noActive>
    <div class="empty">No active surveys.</div>
  </ng-template>
  </div>
</div>
</div>
</div>
